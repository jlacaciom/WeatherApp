function primerMayusculas(a){return a.charAt(0).toUpperCase()+a.slice(1)}function retornarFecha(a){if(1===a){var b={weekday:"long",year:"numeric",month:"long",day:"numeric"},c=(new Date).toLocaleDateString("es-VE",b);return c}var c=(new Date).toLocaleTimeString("es-VE",{hour12:!0});return c}function fecha(a){var b={weekday:"long",day:"numeric"},c=new Date(a).toLocaleDateString("es-VE",b);return c}function RetornarIcono(a){var b="wi wi-",c=a,d=icons[c].icon;return c>699&&c<800||c>899&&c<1e3||(d="day-"+d),d=b+d}function BuscarCiudad(a){var b=localStorage.getItem("tipo"),c="metric";c="f"===b?"imperial":"metric";var d={q:a,lang:"es",units:c,appid:"a11d6820ad8792dd1a807cc68e76bfe7"};$.ajax({url:"http://api.openweathermap.org/data/2.5/weather",jsonp:"callback",dataType:"jsonp",cache:!1,data:d,success:function(a){var c=a.weather[0].id,d=Math.trunc(a.main.temp)+"°",e=primerMayusculas(a.weather[0].description),f=a.main.humidity,g=a.wind.speed,h=a.name+", "+a.sys.country;$("#descripcion").text(e),$("#temperatura").text(d),$("#viento").text(g),$("#humedad").text(f),$("#localizacion").text(h),"f"===b?$("#tipo").text("Fahrenheit"):$("#tipo").text("Celsius");var i=RetornarIcono(c);$("#icon").addClass(i),$("#bg").attr("src",icons[c].image),localStorage.setItem("idCiudad",a.id),LeerDias(b,a.id)},error:function(a){alert("e1 "+a.statusText)}})}function LeerDatos(a,b){localStorage.setItem("tipo",a);var c="metric";c="f"===a?"imperial":"metric",$("#fecha").text(retornarFecha(1)),$("#hora").text(retornarFecha(2));var d={id:b,lang:"es",units:c,appid:"a11d6820ad8792dd1a807cc68e76bfe7"};$.ajax({url:"http://api.openweathermap.org/data/2.5/weather",jsonp:"callback",dataType:"jsonp",cache:!1,data:d,success:function(c){var d=c.weather[0].id,e=Math.trunc(c.main.temp)+"°",f=primerMayusculas(c.weather[0].description),g=c.main.humidity,h=c.wind.speed,i=c.name+", "+c.sys.country;$("#descripcion").text(f),$("#temperatura").text(e),$("#temp_max").text(e),$("#temp_min").text(e),$("#viento").text(h),$("#humedad").text(g),$("#presion").text(c.main.pressure),$("#localizacion").text(i),"f"===a?($("#tipo").text("Fahrenheit"),$("#temp_max").text(Math.trunc(c.main.temp_max)+"°F"),$("#temp_min").text(Math.trunc(c.main.temp_min)+"°F")):($("#tipo").text("Celsius"),$("#temp_max").text(Math.trunc(c.main.temp_max)+"°C"),$("#temp_min").text(Math.trunc(c.main.temp_min)+"°C"));var j=RetornarIcono(d);$("#icon").addClass(j),$("#bg").attr("src",icons[d].image),LeerDias(a,b)},error:function(a){alert("e1 "+a.statusText)}})}function LeerDias(a,b){var c="metric";c="f"===a?"imperial":"metric";var d={id:b,lang:"es",units:c,appid:"a11d6820ad8792dd1a807cc68e76bfe7"};$.ajax({url:"http://api.openweathermap.org/data/2.5/forecast/city",jsonp:"callback",dataType:"jsonp",cache:!1,data:d,success:function(b){"f"===a?($("#temperatura1").text(Math.trunc(b.list[0].main.temp)+" °F"),$("#tempmax1").text(Math.trunc(b.list[0].main.temp_max)+" °F"),$("#tempmin1").text(Math.trunc(b.list[0].main.temp_min)+" °F"),$("#temperatura2").text(Math.trunc(b.list[4].main.temp)+" °F"),$("#tempmax2").text(Math.trunc(b.list[4].main.temp_max)+" °F"),$("#tempmin2").text(Math.trunc(b.list[4].main.temp_min)+" °F"),$("#temperatura3").text(Math.trunc(b.list[11].main.temp)+" °F"),$("#tempmax3").text(Math.trunc(b.list[11].main.temp_max)+" °F"),$("#tempmin3").text(Math.trunc(b.list[11].main.temp_min)+" °F"),$("#temperatura4").text(Math.trunc(b.list[19].main.temp)+" °F"),$("#tempmax4").text(Math.trunc(b.list[19].main.temp_max)+" °F"),$("#tempmin4").text(Math.trunc(b.list[19].main.temp_min)+" °F")):($("#temperatura1").text(Math.trunc(b.list[0].main.temp)+" °C"),$("#tempmax1").text(Math.trunc(b.list[0].main.temp_max)+" °C"),$("#tempmin1").text(Math.trunc(b.list[0].main.temp_min)+" °C"),$("#temperatura2").text(Math.trunc(b.list[4].main.temp)+" °C"),$("#tempmax2").text(Math.trunc(b.list[4].main.temp_max)+" °C"),$("#tempmin2").text(Math.trunc(b.list[4].main.temp_min)+" °C"),$("#temperatura3").text(Math.trunc(b.list[11].main.temp)+" °C"),$("#tempmax3").text(Math.trunc(b.list[11].main.temp_max)+" °C"),$("#tempmin3").text(Math.trunc(b.list[11].main.temp_min)+" °C"),$("#temperatura4").text(Math.trunc(b.list[19].main.temp)+" °C"),$("#tempmax4").text(Math.trunc(b.list[19].main.temp_max)+" °C"),$("#tempmin4").text(Math.trunc(b.list[19].main.temp_min)+" °C")),$("#fecha1").text(fecha(new Date(b.list[0].dt_txt))),$("#desc1").text(b.list[0].weather[0].description),$("#viento1").text(b.list[0].wind.speed),$("#humedad1").text(b.list[0].main.humidity);var c=RetornarIcono(b.list[0].weather[0].id);$("#icon1").addClass(c),$("#fecha2").text(fecha(new Date(b.list[4].dt_txt))),$("#desc2").text(b.list[4].weather[0].description),$("#viento2").text(b.list[4].wind.speed),$("#humedad2").text(b.list[4].main.humidity),$("#icon2").addClass(RetornarIcono(b.list[4].weather[0].id)),$("#fecha3").text(fecha(new Date(b.list[11].dt_txt))),$("#desc3").text(b.list[11].weather[0].description),$("#viento3").text(b.list[11].wind.speed),$("#humedad3").text(b.list[11].main.humidity),$("#icon3").addClass(RetornarIcono(b.list[11].weather[0].id)),$("#fecha4").text(fecha(new Date(b.list[19].dt_txt))),$("#desc4").text(b.list[19].weather[0].description),$("#viento4").text(b.list[19].wind.speed),$("#humedad4").text(b.list[19].main.humidity),$("#icon4").addClass(RetornarIcono(b.list[19].weather[0].id))},error:function(a){alert(a.statusText)}})}function Reloj(){$("#fecha").text(retornarFecha(1)),$("#hora").text(retornarFecha(2)),$("#fechaN2").text(retornarFecha(1)+" "+retornarFecha(2)),setTimeout("Reloj()",1e3)}$(document).ready(function(){localStorage.setItem("idCiudad",3645213),LeerDatos("c",localStorage.getItem("idCiudad")),Reloj()});